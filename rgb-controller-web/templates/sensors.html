{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Данные с датчиков</h2>
    
    <div class="sensor-data">
        <div class="current-values">
            <h3>Текущие показания:</h3>
            <p>Температура: <span id="temp-value">--</span> °C</p>
            <p>Влажность: <span id="hum-value">--</span> %</p>
            <p>CO2: <span id="co2-value">--</span> ppm</p>
        </div>
        
        <div class="charts">
            <canvas id="temp-chart"></canvas>
            <canvas id="co2-chart"></canvas>
        </div>
    </div>
</div>

<script>
    // Обновление данных каждые 5 секунд
    setInterval(updateSensorData, 5000);
    updateSensorData();
    
    function updateSensorData() {
        fetch('/get_sensor_data')
            .then(response => response.json())
            .then(data => {
                document.getElementById('temp-value').textContent = data.temperature;
                document.getElementById('hum-value').textContent = data.humidity;
                document.getElementById('co2-value').textContent = data.co2;
                // Обновление графиков
                updateCharts(data);
            });
    }
    
    function updateCharts(data) {
        // Реализация обновления графиков с помощью Chart.js
    }
</script>
{% endblock %}